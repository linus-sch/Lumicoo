    <script>
    // Keywords, die gehighlighted werden sollen, zentral definiert
    const highlightKeywords = ["apple.com", "microsoft.com", "meta.com"];
    
    async function fetchEvents() {
        try {
            const response = await fetch('https://api.allorigins.win/get?url=' + encodeURIComponent('https://www.techmeme.com/events'));
            const data = await response.json();
            const text = data.contents;
            const parser = new DOMParser();
            const doc = parser.parseFromString(text, 'text/html');
            const eventsContainer = document.getElementById('events-list');
            const events = doc.querySelectorAll('.ne:not(.nf)');
            
            document.getElementById('loading').style.display = 'none';
            
            events.forEach(event => {
                const newEvent = document.createElement('li');
                
                const link = event.querySelector('a');
                const dateText = link.querySelector('div:first-child').textContent;
                const title = link.querySelector('div:nth-child(2)').textContent;
                const location = link.querySelector('div:last-child').textContent;

                const eventDate = new Date(dateText);
                const daysRemaining = getDaysRemaining(eventDate);

                const isHybrid = title.includes('HYBRID:');
                const cleanTitle = isHybrid ? title.replace('HYBRID:', '').trim() : title;

                // URL-Verarbeitung
                let urlPart = link.href.split('/r2/')[1];
                urlPart = urlPart.replace(/_/g, '/').replace(/-.*$/, '').replace('.htm', '') + '/';

                // Highlight wenn bestimmte Domains enthalten sind
                if (highlightKeywords.some(keyword => urlPart.includes(keyword))) {
                    newEvent.classList.add('highlight');
                }

                // Event HTML-Template
                newEvent.innerHTML = `
                    <a href="https://${urlPart}">
                        <div class="event-date">${dateText} - ${daysRemaining} Day${daysRemaining !== 1 ? 's' : ''}</div>
                        <div class="event-title">${isHybrid ? '<span class="event-type hybrid">HYBRID</span>' : ''} ${cleanTitle}</div>
                        <div class="event-location">${location}</div>
                    </a>
                `;
                
                eventsContainer.appendChild(newEvent);
            });
        } catch (error) {
            console.error('Fehler beim Laden der Events:', error);
            document.getElementById('loading').textContent = 'Error loading events. Please try again later.';
        }
    }

    function getDaysRemaining(eventDate) {
        const now = new Date();
        const totalDays = Math.floor((eventDate - now) / (1000 * 60 * 60 * 24));
        return totalDays >= 0 ? totalDays : 0;
    }

    fetchEvents();

    </script>
